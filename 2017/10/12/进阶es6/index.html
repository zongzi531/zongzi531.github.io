

<!DOCTYPE html>
<html lang="zh-CN" xmlns:v-bind="http://www.w3.org/1999/xhtml">

<head>
    <title>进阶ES6 - Zong</title>
<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="author" content="Zong">
<meta name="description" content="



依然是好久不见，因为之前安排的工作及学习进度比较紧，所以选择在国庆后进行一些总结。

概要8月中旬至9月中...">
<meta name="keywords" content="Blog JavaScript TypeScript Front-end CSS">

    <meta charset="utf-8">
    <meta name="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <meta content="telephone=no" name="format-detection">
    <meta name="renderer" content="webkit">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/journal.css?75796955">

<link rel="icon" href="/images/favicon.ico">

<script src="/js/loadCSS.js"></script>
<script>
    loadCSS("https://fonts.googleapis.com/css?family=Lora|Montserrat|Fira+Mono|Material+Icons");
    (function(d) {
        var config = {
        kitId: 'ojl5tfq',
        scriptTimeout: 3000,
        async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
    })(document);
</script>
<noscript>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Lora|Montserrat|Anonymous+Pro:400|Material+Icons"/>
</noscript>
<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Zong" type="application/atom+xml">
</head>
<body>
<div id="top"></div>
<div id="app">
<div class="single-column-drawer-container" ref="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            <a class="a-block drawer-menu-item false" href="https://zongzi531.github.io">
                首页
            </a>
            

            
            
                
                    <a class="a-block drawer-menu-item false" href="/bangumi/index.html">
                        番組
                    </a>
                
            
                
                    <a class="a-block drawer-menu-item false" href="/reading_diary/index.html">
                        読書日記
                    </a>
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
                    <a class="a-block drawer-menu-item false" href="/nihongonokona/index.html">
                        日本語のコーナー
                    </a>
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
                    <a class="a-block drawer-menu-item false" href="/syoukai/index.html">
                        紹介
                    </a>
                
            
                
            

            
        </div>
    </div>
</div>
<transition name="fade">
    <div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav ref="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div ref="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a ref="navTitle" class="navbar-brand" href="/">
            Zong
        </a>
    </div>
</nav>
<div class="single-column-header-container" ref="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="/">
        <div class="single-column-header-title">Zong</div>
        <div class="single-column-header-subtitle"></div>
    </a>
</div>
<div ref="sideContainer" class="side-container">
    <a class="a-block nav-head false" href="/">
        <div class="nav-title">
            Zong
        </div>
        <div class="nav-subtitle">
            人之所以能<br>，是相信能
        </div>
    </a>

    <div class="nav-link-list">
        

        
        
            
                <a class="a-block nav-link-item false" href="/bangumi/index.html">
                    番組
                </a>
            
        
            
                <a class="a-block nav-link-item false" href="/reading_diary/index.html">
                    読書日記
                </a>
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
                <a class="a-block nav-link-item false" href="/nihongonokona/index.html">
                    日本語のコーナー
                </a>
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
                <a class="a-block nav-link-item false" href="/syoukai/index.html">
                    紹介
                </a>
            
        
            
        

        
    </div>

    <div class="nav-footer">
        <div style="margin-bottom: 8px;">
            <a title="GitHub" target="_blank" rel="noopener" href="https://github.com/zongzi531" style="margin: 0px 2px;"><svg height="16" width="16" viewBox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a>
            <a title="知乎" target="_blank" rel="noopener" href="https://www.zhihu.com/people/zongzi531/posts" style="margin: 0px 2px;"><img height="16" src="https://static.zhihu.com/static/favicon.ico"></a>
            <a title="掘金" target="_blank" rel="noopener" href="https://juejin.im/user/58747cf2ac502e00646e3b8b/posts" style="margin: 0px 2px;"><img height="16" src="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/favicon-32x32.png"></a>
            <a title="力扣" target="_blank" rel="noopener" href="https://leetcode-cn.com/u/zongzi0531/" style="margin: 0px 2px;"><img height="16" src="https://static.leetcode-cn.com/cn-assets/icons/favicon-32x32.png"></a>
        </div>
        &copy; 2017 - 2025 <a href="https://zongzi531.github.io">Zong</a>
    </div>
</div>
<div ref="extraContainer" class="extra-container">
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>

        
    </div>
</div>



<div ref="streamContainer" class="stream-container">
    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            <div class="post-head-wrapper"
                 style="background-image: url('/2017/10/12/进阶es6/pic.jpeg')">
                <div class="post-title">
                    进阶ES6
                    <div class="post-meta">
                        <time datetime="2017-10-12T21:57:25.000Z" itemprop="datePublished">
                            2017-10-12 21:57
                        </time>&nbsp;
                        
                        
                        <i class="material-icons" style="">folder</i>
                        
                        <a href='/categories/JavaScript/'>JavaScript</a>
                        
                        
    
                        
                        
                        <i class="material-icons" style="">label</i>
                        
                        <a href='/tags/JavaScript/'>JavaScript</a>, 
                        
                        <a href='/tags/ECMAScript-6/'>ECMAScript 6</a>
                        
                        
                    </div>
                </div>
            </div>
    
            <div class="post-body-wrapper">
                <div class="post-body">
                    <!-- no node -->

<span id="more"></span>

<p>依然是好久不见，因为之前安排的工作及学习进度比较紧，所以选择在国庆后进行一些总结。</p>
<blockquote>
<p><strong>概要</strong><br>8月中旬至9月中旬开发公司移动端项目（vue + vux）[以下简称：项目A]<br>9月底至今开发公司PC端管理系统（vue + element-ui）[以下简称：项目B]<br>一些常用的技术栈我这里就不在提了<br>那么这一期间，我已经阅读完《ECMAScript 6 标准入门》（第2版）以及《深入理解ES6》，其实读完并不代表什么，必须得学以致用嘛<br>9月底《ECMAScript 6 标准入门》（第3版）也到货了，他比之前厚了200多页，这使我感到很高兴，他包含了ES2015、ES2016、ES2017这3个版本，我准备重新再撸一遍，爽一爽</p>
</blockquote>
<p><strong>以下，我将对这期间我认为好的内容进行总结：</strong></p>
<h2 id="实践组件化、模块化的开发模式"><a href="#实践组件化、模块化的开发模式" class="headerlink" title="实践组件化、模块化的开发模式"></a>实践组件化、模块化的开发模式</h2><h3 id="组件化"><a href="#组件化" class="headerlink" title="组件化"></a>组件化</h3><p>从之前的项目经验中，我意识到，要让项目解耦是必要的，这样一来是的你的项目更易维护、逻辑更清晰、提升复用性等等好处，这些是不容置疑的。</p>
<p>我开始尝试，将vue文件中的重复或者细小可以复用的内容，进行组件化。</p>
<p>这些小的被我组件化的文件很方便使用，在需要的时候直接引入即可，如果需要从父组件向子组件传递数据（<code>props</code>）或者触发子组件的事件（<code>vm.$emit</code>），但是我还未尝试组件与CSS进行剥离。在我看来，在项目并不大的情况，或者公司项目不多的情况下，不同项目之间的组件复用情况，我暂时还未遇到，但我相信这是存在的，并且我一直准备着。</p>
<h3 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h3><p>在项目A中，使用<code>Selector</code>或者<code>Picker</code>，会使用到大量单列数据、二级联动数据，这些数据会使得组件体积变大，并且不易维护，我将其数据部分提出放入JSON文件中，在需要引用时进行引入即可，并且如需对数据进行修改或者调整，只需要单独维护JSON文件即可，这大大提高了项目的可维护性。</p>
<p>但是JSON文件不能加注释，这是我感到很困惑。</p>
<p>在项目B中，我使用ES6标准推荐的ES6 Module来实现我的模块化，比如将element-ui Table组件按照我的需求进行个性化的定制，提取配置文件至<code>/libs</code>，并且此类文件可以不断扩充，并且适合于与其他组件进行组合使用，和进行统一维护管理。</p>
<p>可以查看我的源码：</p>
<ol>
<li><p><a target="_blank" rel="noopener" href="https://github.com/zongzi531/ZGadget/blob/master/element/element-ui-form-validator.js">element-ui 表单验证方法集合对象</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/zongzi531/management_platform/tree/master/src/libs">element-ui Table 个性化定制</a></p>
</li>
</ol>
<h2 id="实践撰写良好的注释"><a href="#实践撰写良好的注释" class="headerlink" title="实践撰写良好的注释"></a>实践撰写良好的注释</h2><p>由于采用了组件化、模块化的开发模式，撰写注释我当其为一种乐趣，它使我的代码更易被更多开发者读懂，我认为这很优美。</p>
<p>那么我撰写注释会遵循以下规则：</p>
<h3 id="在组件顶部或者公共函数上方"><a href="#在组件顶部或者公共函数上方" class="headerlink" title="在组件顶部或者公共函数上方"></a>在组件顶部或者公共函数上方</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/**
 * [description]
 * @param  &#123;[type]&#125;   param  [description]
 * @return &#123;[type]&#125;          [description]
 */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="在必要的段落中"><a href="#在必要的段落中" class="headerlink" title="在必要的段落中"></a>在必要的段落中</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//  ...</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="优化方面的一些实践"><a href="#优化方面的一些实践" class="headerlink" title="优化方面的一些实践"></a>优化方面的一些实践</h2><p>在开发项目A的过程中，我意识到，复杂的项目需要进行优化。</p>
<h3 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h3><p><a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-router/blob/dev/docs/zh-cn/advanced/lazy-loading.md">vue-router 路由懒加载</a> ，因为项目不大，使用此功能只会让页面加载速度较之前相比缓慢些，并且增加HTTP请求，十分不划算，但是我认为在大项目中，这是必不可少的功能。</p>
<h3 id="减轻vender文件大小"><a href="#减轻vender文件大小" class="headerlink" title="减轻vender文件大小"></a>减轻vender文件大小</h3><p>打包时不打包vue、vuex、vue-router、axios等，将其换用CDN直接引入到index.html中，在webpack里有个<code>externals</code>，可以忽略不需要打包的库：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token string-property property">'vue'</span><span class="token operator">:</span> <span class="token string">'Vue'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'vue-router'</span><span class="token operator">:</span> <span class="token string">'VueRouter'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'vuex'</span><span class="token operator">:</span> <span class="token string">'Vuex'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'axios'</span><span class="token operator">:</span> <span class="token string">'axios'</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>网上可以搜索到很多关于webpack打包优化方案，可以进行参考。</p>
<h3 id="减少服务器请求"><a href="#减少服务器请求" class="headerlink" title="减少服务器请求"></a>减少服务器请求</h3><p>尝试使用将图片文件转换成Base64格式，但是这会使页面响应时间变长，影响效率。其实服务器响应头中设置缓存也是一种不错的选择（<code>js</code>、<code>css</code>、<code>image</code>等等），虽然用户在第一次进入页面时，可能时间会稍长，但是用户再次进入时，将直接从本地缓存中读取缓存文件（服务器未更新文件的前提下），这也大大的提高了进入页面的速度，并且减轻了服务器的负担。</p>
<pre class="line-numbers language-none"><code class="language-none">Response Headers:
Cache-Control: public, max-age&#x3D;31536000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="兼容性优化"><a href="#兼容性优化" class="headerlink" title="兼容性优化"></a>兼容性优化</h3><ol>
<li><p>软垫片 <code>polyfill</code></p>
</li>
<li><p>兼容new URLSearchParams () <code>url-search-params-polyfill</code></p>
</li>
</ol>
<h2 id="实践一些ES6的新特性"><a href="#实践一些ES6的新特性" class="headerlink" title="实践一些ES6的新特性"></a>实践一些ES6的新特性</h2><p>开发过程中，我会经常使用到 <code>let</code>、<code>const</code>、<code>解构赋值</code>、<code>...</code>、<code>箭头函数</code>、<code>for ...of</code>、<code>Module</code>。</p>
<p>提到<code>for ...of</code>，有趣的是，我和好友讨论了遍历数组到底哪个更快，我们测试遍历100000长度的数组，并进行赋值操作。</p>
<p>结果是，古老的<code>for</code>循环当然是最快的，在20组测试样例中， <code>for ...of</code> &lt; <code>forEach</code> &lt; <code>for ...in</code>。</p>
<p>还有<code>箭头函数</code>需要注意的是<code>this</code>的作用域哟，这个书中都有详细的介绍。</p>
<hr>
<p>国庆长假，我去了日本，也领悟了不少，看到了不少。接下来我将忙于工作，学习！</p>

                </div>
            </div>

            
            <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者: </strong>
    Zong
  </li>
  <li class="post-copyright-link">
    <strong>本文链接: </strong>
    <a href="https://zongzi531.github.io/2017/10/12/%E8%BF%9B%E9%98%B6es6/" title="进阶ES6">https://zongzi531.github.io/2017/10/12/%E8%BF%9B%E9%98%B6es6/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明: </strong>
    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！
  </li>
</ul>

            
    
            <nav class="post-pagination">
    
    <a class="newer-posts" href="/2017/11/05/%E5%8F%82%E5%8A%A02017%E9%A5%BF%E4%BA%86%E4%B9%88%E5%A4%A7%E5%89%8D%E7%AB%AF%E7%A7%8B%E5%AD%A3%E4%BA%A4%E6%B5%81%E4%BC%9A/">
        上一篇<br>参加 2017 饿了么大前端秋季交流会
    </a>
    
    <span class="page-number"></span>
    
    <a class="older-posts" href="/2017/08/07/hug-fe-in1year/">
        下一篇<br>迎接学习FE一周年
    </a>
    
</nav>

    
            

<div class="post-comment-wrapper">
    <div class="giscus"></div>
</div>


        </div>
    </div>
    <div class="single-column-footer">
    <div style="margin-bottom: 8px;">
        <a title="GitHub" target="_blank" rel="noopener" href="https://github.com/zongzi531" style="margin: 0px 2px;"><svg height="16" width="16" viewBox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a>
        <a title="知乎" target="_blank" rel="noopener" href="https://www.zhihu.com/people/zongzi531/posts" style="margin: 0px 2px;"><img height="16" src="https://static.zhihu.com/static/favicon.ico"></a>
        <a title="掘金" target="_blank" rel="noopener" href="https://juejin.im/user/58747cf2ac502e00646e3b8b/posts" style="margin: 0px 2px;"><img height="16" src="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web//static/favicons/favicon-32x32.png"></a>
        <a title="力扣" target="_blank" rel="noopener" href="https://leetcode-cn.com/u/zongzi0531/" style="margin: 0px 2px;"><img height="16" src="https://static.leetcode-cn.com/cn-assets/icons/favicon-32x32.png"></a>
    </div>
    &copy; 2017 - 2025 <a href="https://zongzi531.github.io">Zong</a>
</div>
</div>

</div>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"
        integrity="sha256-EGs9T1xMHdvM1geM8jPpoo8EZ1V1VRsmcJz8OByENLA=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
        integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.min.js"
        integrity="sha256-FtWfRI+thWlNz2sB3SJbwKx5PgMyKIVgwHCTwa3biXc=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/smooth-scroll@14.2.1/dist/smooth-scroll.polyfills.min.js"
        integrity="sha256-CI4Gq5E0io1Pv0xM3qPM+NUIOhbIBvC3GiN1Y4KhXpw=" crossorigin="anonymous"></script>
<script src="/js/journal.js?33756090"></script>


    <script src="https://giscus.app/client.js"
    data-repo="zongzi531/zongzi531.github.io"
    data-repo-id="MDEwOlJlcG9zaXRvcnkyMTgyODY2MjA="
    data-category="General"
    data-category-id="DIC_kwDODQLKHM4COlHH"
    data-mapping="url"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="light"
    data-lang="zh-CN"
    data-loading="lazy"
    crossorigin="anonymous"
    async>
</script>


</body>
</html>
